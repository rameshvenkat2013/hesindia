<!DOCTYPE html>
<!-- saved from url=(0052)http://pvwebco.com/ticketing_systems/add_ticket.html -->
<html lang="en" class=" js flexbox no-touch"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Add Materials | Ticketing Software</title>

    <!-- Styling -->
    <link rel="stylesheet" href="{{ asset('bundles/hes/css/jquery-ui.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/hes/css/style_popup.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/hes/css/add_ticket_style.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/hes/css/demo.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/hes/css/magnific-popup.css') }}">

    <script src="{{ asset('bundles/hes/js/modernizr.custom.24530.js') }}"></script>
    
    {{ render( controller('HESIndiaBundle:Default:favicon' ) ) }}

<style type="text/css" id="main-nav-css">@media (min-width: 1200px) { .header__container::before { bottom: 30px; } .header__container::after { bottom: 60px; } }</style></head>
<body>

<!-- MAIN PAGE CONTAINER -->
<div class="boxed-container">

{{ render( controller('HESIndiaBundle:Default:sessionHeaderTemplate' , { 'email' : email } ) ) }}

<!-- MAIN TITLE -->
<div class="main-title">
    <div class="container">
        <h1 class="main-title__primary" style="border-bottom: 1px solid #e1e1e1;">Add Materials
        </h1>
    </div>
</div>

<div class="container">

    <div class="row">

        {#
            <div class="col-xs-12 col-md-3">

            {{ render( controller('HESIndiaBundle:Default:sidebarLinks' ) ) }}

            </div><!-- /.col -->
        #}

        <div class="col-xs-12 col-md-9">
            <form id="mat_form" style="margin-top: 22px;" action="{{ path('add_ticket') }}" method="POST">
                    <div class="form-group">
                        <select style="width:30%;" name="comp_name" required="">
                            <option value="choose">---Choose the Company---</option>
                            {% for data in custlist%}
                            <option value="{{data.CompanyId}}">{{ data.CompanyName}}</option>
                            {% endfor %}
                        </select>&nbsp;&nbsp;&nbsp;
                            <input type="text" placeholder="Inward DC No." size="40" value="" name="inward_dc" required="" style="width:20%" />
                            <input type="text" placeholder="RGP Date" size="40" value="" name="rgp_date" required="" style="width:20%" />
                            <span style="float:right;">Job No.: {{'H' ~ newjobno}}</span>
                            <input type="hidden" name="job_no" value="{{newjobno}}"/>
                    </div>
                    <div style="clear:both;"></div>
                <div class="add_more_block">
                
                <div class="col-xs-12  col-md-6 col2" style="margin-left: 0px; margin-right: 0px; width:16%;">
                    <div class="form-group">
                        <input type="text" placeholder="Material Description" class="mat_desc" aria-invalid="false" aria-required="true" size="40" value="" name="matdesc_0" required="">
                    </div>
                </div>

                <div class="col-xs-12  col-md-6 col2" style="margin-left: 0px;margin-right: 0px; width:10%;">
                    <div class="form-group ">
                        <input type="text" placeholder="KW / HP" aria-invalid="false" class="kwhp" aria-required="true" size="40" value="" name="kwhp_0" required="">
                    </div>
                        {#
                    <div class="form-group">
                        <input type="text" placeholder="Inward DC No. &amp; Date" aria-invalid="false" aria-required="true" size="40" value="" name="inward" required="">
                    </div>
                        #}
                </div>
                <div class="col-xs-12  col-md-6 col2" style="margin-left: 0px;margin-right: 0px; width:14%;">
                    <div class="form-group ">
                        <input type="text" placeholder="Type / Model No." aria-invalid="false" class="model" aria-required="true" size="40" value="" name="model_0" required="" style="background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACIUlEQVQ4EX2TOYhTURSG87IMihDsjGghBhFBmHFDHLWwSqcikk4RRKJgk0KL7C8bMpWpZtIqNkEUl1ZCgs0wOo0SxiLMDApWlgOPrH7/5b2QkYwX7jvn/uc//zl3edZ4PPbNGvF4fC4ajR5VrNvt/mo0Gr1ZPOtfgWw2e9Lv9+chX7cs64CS4Oxg3o9GI7tUKv0Q5o1dAiTfCgQCLwnOkfQOu+oSLyJ2A783HA7vIPLGxX0TgVwud4HKn0nc7Pf7N6vV6oZHkkX8FPG3uMfgXC0Wi2vCg/poUKGGcagQI3k7k8mcp5slcGswGDwpl8tfwGJg3xB6Dvey8vz6oH4C3iXcFYjbwiDeo1KafafkC3NjK7iL5ESFGQEUF7Sg+ifZdDp9GnMF/KGmfBdT2HCwZ7TwtrBPC7rQaav6Iv48rqZwg+F+p8hOMBj0IbxfMdMBrW5pAVGV/ztINByENkU0t5BIJEKRSOQ3Aj+Z57iFs1R5NK3EQS6HQqF1zmQdzpFWq3W42WwOTAf1er1PF2USFlC+qxMvFAr3HcexWX+QX6lUvsKpkTyPSEXJkw6MQ4S38Ljdbi8rmM/nY+CvgNcQqdH6U/xrYK9t244jZv6ByUOSiDdIfgBZ12U6dHEHu9TpdIr8F0OP692CtzaW/a6y3y0Wx5kbFHvGuXzkgf0xhKnPzA4UTyaTB8Ph8AvcHi3fnsrZ7Wore02YViqVOrRXXPhfqP8j6MYlawoAAAAASUVORK5CYII=); background-attachment: scroll; background-position: 100% 50%; background-repeat: no-repeat;">
                    </div>
                </div>
                <div class="col-xs-12  col-md-6 col2" style="margin-left: 0px;margin-right: 0px; width:10%;">
                    <div class="form-group ">
                        <input type="text" placeholder="Serial No." aria-invalid="false" class="serial" aria-required="true" size="40" value="" name="serialno_0" required="">
                    </div>
                </div>
                <div class="col-xs-12  col-md-6 col1" style="width:14%;">
                    <div class="form-group ">
                        <input type="text" placeholder="Issue Reported" aria-invalid="false" class="issue" aria-required="true" size="40" value="" name="reportedissue_0" required="">
                    </div>
                </div>
                <div class="col-xs-12  col-md-6 col2" style="margin-left: 0px;margin-right: 0px; width:12%;">
                    <div class="form-group">
                        <input type="text" placeholder="Old Job No." aria-invalid="false" class="oldjob" aria-required="true" size="40" value="" name="oldjob_0" required="">
                    </div>
                </div>
                <div class="col-xs-12  col-md-6 col2" style="margin-left: 0px;margin-right: 0px; width:22%;">
                    <div class="form-group">
                        <textarea type="text" aria-invalid="false" class="remark" aria-required="true" size="100" name="remarks_0" required="">Kindly Check the issue</textarea>
                        <input type="hidden" name="count" value="0" />
                    </div>
                </div>
                    <div style="clear:both;"><hr style="height:1px;border:none;color:#30a0b6;background-color:#30a0b6;" /></div>
                    
                </div>
                    <div id="clear" style="clear:both;"></div>

                        <div style="float:right;">
                            <label>Send SMS to Customer&nbsp;&nbsp;<input type="checkbox" name="sms" /></label>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <button class="more_mat">Add More Material</button>
                            <button class="del_mat" disabled>Remove Last Material</button>
                            
                            <input type="hidden" name="total_cnt" value="1" />
                        </div>
                            {#<hr style="height:1px;border:none;color:#30a0b6;background-color:#30a0b6;" />#}

                <div class="col-xs-12  col-md-6 submit_button" style="margin-left: 0px;margin-right: 0px;">
                    <input type="submit" name="submit_ticket" style="margin-bottom: 10px;" class="btn btn-primary pull-left" value="Submit">
                </div>
            </form>
        </div>

    </div><!-- /.row -->

</div><!-- /.container -->

{{ render( controller('HESIndiaBundle:Default:footerTemplate' ) ) }}


</div><!-- /.boxed-container -->


<script src="{{ asset('bundles/hes/js/jquery-2.1.4.min.js') }}"></script>
<script src="{{ asset('bundles/hes/js/carousel.js') }}"></script>
<script src="{{ asset('bundles/hes/js/transition.js') }}"></script>
<script src="{{ asset('bundles/hes/js/button.js') }}"></script>
<script src="{{ asset('bundles/hes/js/collapse.js') }}"></script>
<script src="{{ asset('bundles/hes/js/validator.js') }}"></script>
<script src="{{ asset('bundles/hes/js/underscore.js') }}"></script>
<script src="{{ asset('bundles/hes/js/custom.js') }}"></script>
<script src="{{ asset('bundles/hes/js/jquery-ui.js') }}"></script>

<script>

    //$('.more_mat:last').live('click', function(e) {
    $('form#mat_form').on('click', '.more_mat:last', function(e){
        e.preventDefault();
        
        $(this).closest( "form#mat_form" ).find('div.add_more_block:last').clone().insertBefore('div#clear');
        
        var count = parseInt($("div.add_more_block:last" ).find('input[name=count]').val());
        
        /****************************************************
         * 
         * @type @exp;@call;$@pro;length
         * Incrementing the Count
         * 
         ****************************************************/
        
        var new_cnt = count + 1;
        
        $('div.add_more_block:last').find('input[name=count]').val(count+1);
        
        $('div.add_more_block:last').find('input.mat_desc').attr('name' ,'matdesc_' + new_cnt).val('');
        $('div.add_more_block:last').find('input.kwhp').attr('name' ,'kwhp_' + new_cnt).val('');
        $('div.add_more_block:last').find('input.model').attr('name' ,'model_' + new_cnt).val('');
        $('div.add_more_block:last').find('input.serial').attr('name' ,'serialno_' + new_cnt).val('');
        $('div.add_more_block:last').find('input.issue').attr('name' ,'reportedissue_' + new_cnt).val('');
        $('div.add_more_block:last').find('input.oldjob').attr('name' ,'oldjob_' + new_cnt).val('');
        $('div.add_more_block:last').find('textarea.remark').attr('name' ,'remarks_' + new_cnt).html('');

        /****************************************************/

        var numItems = $('div.add_more_block').length;
        
        $('input[name=total_cnt]').val(numItems);
        
            if(numItems > 1)
            {
                $('form#mat_form').find('.del_mat').prop('disabled', false);
            }
            else if(numItems == 1)
            {
                $('form#mat_form').find('.del_mat').prop('disabled', true);
            }
    });
    
    $('form#mat_form').on('click', '.del_mat:last', function(e){
        e.preventDefault();

        var numItems = $('div.add_more_block').length;

            if(numItems > 1)
            {
                $('input[name=total_cnt]').val(numItems-1);

                $(this).closest( "form#mat_form" ).find('div.add_more_block:last').remove();
                $('form#mat_form').find('.del_mat').prop('disabled', false);
            }
            else if(numItems == 1)
            {
                $('input[name=total_cnt]').val(numItems);
                $('form#mat_form').find('.del_mat').prop('disabled', true);
            }
    });
        
</script>

</body></html>